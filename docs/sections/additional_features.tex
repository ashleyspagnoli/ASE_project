\section{Additional Features}
%3 user stories verdi, client, salvataggio deck in collection, uso di rabbitmq come proof of concept

\subsection{Green User Stories}
\label{sec:green-user-stories}

The project implements two green user stories that enhance the player's gameplay experience by providing essential game state information.

\subsubsection{Viewing Cards in Hand}
\begin{itemize}
    \setcounter{usCounter}{21}
    \item[\colorednum{green}{2}] who's turn it is SO THAT I know if i can play or not
    \begin{itemize}
        \item \texttt{GET /state/\{game\_id\}} (Gateway $\rightarrow$ Game Engine $\rightarrow$ Gateway)
        \item Response: current round state (empty, one card played, both cards played)
    \end{itemize}
    \setcounter{usCounter}{23}
    \item[\colorednum{green}{1}] To be able to see the cards in my hand	SO THAT	I know that card I can play next

    \begin{itemize}
        \item \texttt{GET /hand/\{game\_id\}} (Gateway $\rightarrow$ Game Engine $\rightarrow$ Gateway)
        \item Returns: JSON array of card objects (\texttt{value}, \texttt{suit})
    \end{itemize}

\end{itemize}

\subsection{Cloud Storage of Decks}
\label{sec:cloud-decks}
To allow players to keep their decks stored in the cloud, we modified the way they handle decks.\\
Users must first create the decks connecting to the endpoint \texttt{collection/decks}. They have 5 slots (5 possible decks).\\
Then that deck will be stored on the decks database.\\
Users will then be able to choose one of their decks when starting a game with the endpoint \texttt{game/match/join}.

\subsection{Client}

\subsection{Endpoint-based Service Interaction Smell - Proof of Concept} %RabbitMQ
\label{sec:rabbitmq}
The project requirements asked to make up for the \textbf{Wobbly service interaction} smell. We solved it mainly with timeouts as suggested.\\
Regarding the \textbf{Endpoint-based service interaction} smell, the requirements said to ignore it since it would've been difficult to solve.\\
We decided to partially solve it anyway in a single interaction between the \textbf{Game History} and \textbf{Game Engine} microservices as a proof-of-concept.\\
In this interaction we replaced the timeout with RabbitMQ, a Message Broker, that solved both the \textbf{Wobbly service interaction} and the \textbf{Endpoint-based service interaction} smells.
This meant a new docker container for RrabbitMQ and running code to fill up the RabbitMQ queue in Game Engine and to ping it for new data in Game History.
\subsection{Test-match}
As already said in \hyperref[sec:test-match]{Test Match} we made a simple script to test the system. You can find it in \texttt{/docs/tests/test\_match.py}.

\subsection{Pip Audit}
Together with the actions for unit tests and integration tests, we implemented a GitHub Action that runs \texttt{pip-audit} to automatically check for known vulnerabilities in our Python dependencies.

